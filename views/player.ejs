<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= titulo %></title>
    <meta property="og:title" content="<%= titulo %>" />
    <meta property="og:image" content="<%= capa %>" />
    <meta property="og:type" content="video.movie" />
    <meta property="og:video" content="<%= video %>" />
    <meta property="og:video:type" content="video/mp4" />
    <meta name="referrer" content="no-referrer">

    <style>
        body { margin: 0; background-color: #000; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; font-family: sans-serif; overflow: hidden; }
        .player-wrapper { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
        video { width: 100%; max-height: 100vh; background: #000; }
        .btn-voltar { position: absolute; top: 20px; left: 20px; color: rgba(255,255,255,0.7); text-decoration: none; font-size: 14px; z-index: 100; padding: 10px; background: rgba(0,0,0,0.5); border-radius: 20px; backdrop-filter: blur(5px); }
        .btn-rave-force {
            display: inline-block; background: #111; color: #00f260; 
            text-decoration: none; padding: 12px 25px; border-radius: 30px; 
            border: 1px solid #00f260; font-size: 13px; font-weight: bold; 
            text-transform: uppercase; margin-top: 20px; opacity: 0; transition: opacity 2s;
            position: absolute; bottom: 60px; z-index: 50; box-shadow: 0 0 15px rgba(0, 242, 96, 0.2);
        }
        #rave-deep { display: none; }
    </style>
</head>
<body>
    <a href="javascript:history.back()" class="btn-voltar">❮ Voltar</a>
    <div class="player-wrapper">
        <video id="video-player" controls autoplay muted playsinline webkit-playsinline preload="auto" poster="<%= capa %>">
            <source src="<%= video %>" type="video/mp4">
        </video>
    </div>
    <a id="btn-force" class="btn-rave-force" href="<%= video %>">Vídeo demorando? Clique aqui</a>
    <a id="rave-deep" href="<%= video %>">Watch</a>
    <script>
        setTimeout(() => { document.getElementById('btn-force').style.opacity = "1"; }, 2500);
        async function ativarWakeLock() { try { if ('wakeLock' in navigator) await navigator.wakeLock.request('screen'); } catch (err) {} }
        document.getElementById('video-player').addEventListener('play', ativarWakeLock);
    </script>
</body>
</html>